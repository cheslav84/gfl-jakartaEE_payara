<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <f:view>
        <h:head>
            <title>Artists</title>
        </h:head>
        <h:body>
            <p:link outcome="albums" value="Albums"/>
            <h:form id="new-artist">
                <p:inputText value="#{artistBean.artist.name}"/>
                <p:commandButton value="New" icon="pi pi-plus" actionListener="#{artistBean.add()}"
                                 update=":new-artist :artist-table"
                styleClass="ui-button-success" style="margin-right: .5rem">
            </p:commandButton>
            </h:form>
            <h:form id="artist-table">
                <p:dataTable value="#{artistBean.artistList}" var="artist" stripedRows="true" rowHover="true">
                    <p:column headerText="â„–">
                        <h:outputText value="#{artist.id}"/>
                    </p:column>
                    <p:column headerText="Name">
                        <h:outputText value="#{artist.name}"/>
                    </p:column>
                    <p:column headerText="Albums">
                        <p:commandButton value="Show" action="#{artistBean.showAlbums(artist.id)}"
                                         styleClass="ui-button-raised ui-button-info ui-button-flat"/>
                    </p:column>
                    <p:column headerText="x">
                        <p:commandButton value="Remove" action="#{artistBean.delete(artist.id)}" update=":artist-table"
                                         styleClass="ui-button-raised ui-button-danger ui-button-flat"/>
                    </p:column>
                </p:dataTable>
            </h:form>
        </h:body>
    </f:view>
</html>
